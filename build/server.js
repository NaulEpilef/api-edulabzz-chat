"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const dotenv_1 = __importDefault(require("dotenv"));
const http_1 = require("http");
const Message_1 = __importDefault(require("./entities/Message"));
const MessageRepository_1 = require("./repositories/MessageRepository");
const MessageService_1 = require("./useCases/MessageService");
const db_1 = __importDefault(require("./config/db"));
const socketConfig_1 = __importDefault(require("./config/socketConfig"));
dotenv_1.default.config();
const httpServer = (0, http_1.createServer)();
(0, db_1.default)(process.env.DATABASE_URL);
const messageModel = Message_1.default;
const messageRepository = new MessageRepository_1.MessageRepository(messageModel);
const messageService = new MessageService_1.MessageService(messageRepository);
(0, socketConfig_1.default)(httpServer, messageService);
httpServer.listen(process.env.PORT || 3333);
